<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: LinkedIn API PHP Class</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">LinkedIn API PHP Class</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md85"></a> This PHP class (<code>LinkedIn.php</code>) provides functionality to interact with the LinkedIn API, allowing users to retrieve the latest job postings and submit job applications. It uses OAuth 2.0 for authentication and handles HTTP requests using cURL without relying on third-party packages.</p>
<h1><a class="anchor" id="autotoc_md86"></a>
Prerequisites</h1>
<ul>
<li><b>PHP 7.4 or higher</b> with cURL extension enabled.</li>
<li>A <b>LinkedIn Developer account</b> and a registered app in the <a href="https://developer.linkedin.com">LinkedIn Developer Portal</a>.</li>
<li><b>Client ID</b> and <b>Client Secret</b> from your LinkedIn app.</li>
<li>A <b>Redirect URI</b> registered in your LinkedIn app settings.</li>
<li>Access to LinkedIn API permissions (e.g., <code>r_liteprofile</code>, <code>r_emailaddress</code>, <code>w_member_social</code>). Note that job-related APIs may require Talent Solutions partner access.</li>
</ul>
<h1><a class="anchor" id="autotoc_md87"></a>
Setup</h1>
<ol type="1">
<li><b>Clone or Download the Class</b>: Save <code>LinkedIn.php</code> in your project directory.</li>
<li><b>Configure Your LinkedIn App</b>:<ul>
<li>Log in to the <a href="https://developer.linkedin.com">LinkedIn Developer Portal</a>.</li>
<li>Create a new app or use an existing one.</li>
<li>Add the redirect URI (e.g., <code><a href="http://yourdomain.com/callback.php">http://yourdomain.com/callback.php</a></code>) to your app's OAuth 2.0 settings.</li>
<li>Note your app's <b>Client ID</b> and <b>Client Secret</b>.</li>
</ul>
</li>
<li><b>Set Up a Callback Script</b>: Create a PHP script (e.g., <code>callback.php</code>) to handle the OAuth redirect and process the authorization code.</li>
</ol>
<h1><a class="anchor" id="autotoc_md88"></a>
Installation</h1>
<p>No external dependencies are required. Simply include <code>LinkedIn.php</code> in your PHP project:</p>
<div class="fragment"><div class="line">require_once <span class="stringliteral">&#39;LinkedIn.php&#39;</span>;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md89"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md90"></a>
Initialize the LinkedIn Class</h2>
<p>Create an instance of the <code>LinkedIn</code> class with your app credentials and redirect URI:</p>
<div class="fragment"><div class="line">$linkedin = <span class="keyword">new</span> LinkedIn(</div>
<div class="line">    <span class="stringliteral">&#39;YOUR_CLIENT_ID&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;YOUR_CLIENT_SECRET&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;YOUR_REDIRECT_URI&#39;</span></div>
<div class="line">);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md91"></a>
Step 1: Authenticate the User</h2>
<p>Generate a login URL and direct the user to LinkedIn for authorization:</p>
<div class="fragment"><div class="line">$loginUrl = $linkedin-&gt;getLoginUrl();</div>
<div class="line">echo <span class="stringliteral">&quot;Please visit: &lt;a href=&#39;$loginUrl&#39;&gt;Login with LinkedIn&lt;/a&gt;&quot;</span>;</div>
</div><!-- fragment --><p>This redirects the user to LinkedIn's authorization page. After approval, LinkedIn redirects back to your specified redirect URI with an authorization code in the URL (e.g., <code><a href="http://yourdomain.com/callback.php?code=AUTH_CODE">http://yourdomain.com/callback.php?code=AUTH_CODE</a></code>).</p>
<h2><a class="anchor" id="autotoc_md92"></a>
Step 2: Exchange Authorization Code for Access Token</h2>
<p>In your callback script (e.g., <code>callback.php</code>), exchange the authorization code for an access token:</p>
<div class="fragment"><div class="line">require_once <span class="stringliteral">&#39;LinkedIn.php&#39;</span>;</div>
<div class="line"> </div>
<div class="line">$linkedin = <span class="keyword">new</span> LinkedIn(<span class="stringliteral">&#39;YOUR_CLIENT_ID&#39;</span>, <span class="stringliteral">&#39;YOUR_CLIENT_SECRET&#39;</span>, <span class="stringliteral">&#39;YOUR_REDIRECT_URI&#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (isset($_GET[<span class="stringliteral">&#39;code&#39;</span>])) {</div>
<div class="line">    $accessToken = $linkedin-&gt;getAccessToken($_GET[<span class="stringliteral">&#39;code&#39;</span>]);</div>
<div class="line">    <span class="keywordflow">if</span> ($accessToken) {</div>
<div class="line">        echo <span class="stringliteral">&quot;Access Token: &quot;</span> . $accessToken[<span class="stringliteral">&#39;access_token&#39;</span>];</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        echo <span class="stringliteral">&quot;Failed to obtain access token.&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md93"></a>
Step 3: Retrieve Latest Jobs</h2>
<p>Fetch the latest job postings (limited by the specified number):</p>
<div class="fragment"><div class="line">$jobs = $linkedin-&gt;getLatestJobs(5);</div>
<div class="line"><span class="keywordflow">if</span> (isset($jobs[<span class="stringliteral">&#39;error&#39;</span>])) {</div>
<div class="line">    echo <span class="stringliteral">&quot;Error: &quot;</span> . $jobs[<span class="stringliteral">&#39;error&#39;</span>];</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keywordflow">foreach</span> ($jobs as $job) {</div>
<div class="line">        echo <span class="stringliteral">&quot;Job Title: &quot;</span> . ($job[<span class="stringliteral">&#39;title&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        echo <span class="stringliteral">&quot;Job ID: &quot;</span> . ($job[<span class="stringliteral">&#39;id&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;\n\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Note</b>: The job search API may require Talent Solutions partner access. Without it, you may receive a permission error.</p>
<h2><a class="anchor" id="autotoc_md94"></a>
Step 4: Apply for a Job</h2>
<p>Submit a job application on behalf of the authenticated user:</p>
<div class="fragment"><div class="line">$jobId = <span class="stringliteral">&#39;urn:li:job:123456&#39;</span>; <span class="comment">// Replace with actual job ID</span></div>
<div class="line">$applicationData = [</div>
<div class="line">    <span class="stringliteral">&#39;resume&#39;</span> =&gt; <span class="stringliteral">&#39;Base64 encoded resume content&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;coverLetter&#39;</span> =&gt; <span class="stringliteral">&#39;Cover letter text&#39;</span></div>
<div class="line">];</div>
<div class="line">$result = $linkedin-&gt;applyForJob($jobId, $applicationData);</div>
<div class="line"><span class="keywordflow">if</span> (isset($result[<span class="stringliteral">&#39;error&#39;</span>])) {</div>
<div class="line">    echo <span class="stringliteral">&quot;Error: &quot;</span> . $result[<span class="stringliteral">&#39;error&#39;</span>];</div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    echo <span class="stringliteral">&quot;Application submitted successfully!&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Note</b>: Job application APIs typically require specific permissions (e.g., Talent Solutions). Check your app's access level.</p>
<h2><a class="anchor" id="autotoc_md95"></a>
Step 5: User Registration (Limitations)</h2>
<p>The LinkedIn API does not support direct user registration. Users must sign up via LinkedIn's website, and the API handles authentication via OAuth. Attempting to register a user:</p>
<div class="fragment"><div class="line">$userData = [</div>
<div class="line">    <span class="stringliteral">&#39;firstName&#39;</span> =&gt; <span class="stringliteral">&#39;John&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;lastName&#39;</span> =&gt; <span class="stringliteral">&#39;Doe&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;email&#39;</span> =&gt; <span class="stringliteral">&#39;john.doe@example.com&#39;</span>,</div>
<div class="line">    <span class="stringliteral">&#39;password&#39;</span> =&gt; <span class="stringliteral">&#39;securepassword&#39;</span></div>
<div class="line">];</div>
<div class="line">$result = $linkedin-&gt;registerUser($userData);</div>
<div class="line">echo $result[<span class="stringliteral">&#39;message&#39;</span>];</div>
</div><!-- fragment --><p>This will inform you that direct registration is not supported and guide you to use the OAuth flow.</p>
<h1><a class="anchor" id="autotoc_md96"></a>
Example Full Workflow</h1>
<p>Create a file (e.g., <code>index.php</code>) to initiate the OAuth flow and a callback script (e.g., <code>callback.php</code>) to handle the response.</p>
<p><b>index.php</b>: </p><div class="fragment"><div class="line">require_once <span class="stringliteral">&#39;LinkedIn.php&#39;</span>;</div>
<div class="line"> </div>
<div class="line">$linkedin = <span class="keyword">new</span> LinkedIn(<span class="stringliteral">&#39;YOUR_CLIENT_ID&#39;</span>, <span class="stringliteral">&#39;YOUR_CLIENT_SECRET&#39;</span>, <span class="stringliteral">&#39;http://yourdomain.com/callback.php&#39;</span>);</div>
<div class="line">$loginUrl = $linkedin-&gt;getLoginUrl();</div>
<div class="line">echo <span class="stringliteral">&quot;&lt;a href=&#39;$loginUrl&#39;&gt;Login with LinkedIn&lt;/a&gt;&quot;</span>;</div>
</div><!-- fragment --><p><b>callback.php</b>: </p><div class="fragment"><div class="line">require_once <span class="stringliteral">&#39;LinkedIn.php&#39;</span>;</div>
<div class="line"> </div>
<div class="line">$linkedin = <span class="keyword">new</span> LinkedIn(<span class="stringliteral">&#39;YOUR_CLIENT_ID&#39;</span>, <span class="stringliteral">&#39;YOUR_CLIENT_SECRET&#39;</span>, <span class="stringliteral">&#39;http://yourdomain.com/callback.php&#39;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (isset($_GET[<span class="stringliteral">&#39;code&#39;</span>])) {</div>
<div class="line">    $accessToken = $linkedin-&gt;getAccessToken($_GET[<span class="stringliteral">&#39;code&#39;</span>]);</div>
<div class="line">    <span class="keywordflow">if</span> ($accessToken) {</div>
<div class="line">        <span class="comment">// Fetch jobs</span></div>
<div class="line">        $jobs = $linkedin-&gt;getLatestJobs(5);</div>
<div class="line">        print_r($jobs);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Apply for a job</span></div>
<div class="line">        $jobId = <span class="stringliteral">&#39;urn:li:job:123456&#39;</span>;</div>
<div class="line">        $applicationData = [</div>
<div class="line">            <span class="stringliteral">&#39;resume&#39;</span> =&gt; <span class="stringliteral">&#39;Base64 encoded resume&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;coverLetter&#39;</span> =&gt; <span class="stringliteral">&#39;Applying for the position&#39;</span></div>
<div class="line">        ];</div>
<div class="line">        $result = $linkedin-&gt;applyForJob($jobId, $applicationData);</div>
<div class="line">        print_r($result);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        echo <span class="stringliteral">&quot;Authentication failed.&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md97"></a>
Important Notes</h1>
<ul>
<li><b>API Permissions</b>: Job-related APIs (e.g., job search, applications) often require LinkedIn Talent Solutions partner access. Without it, you may encounter <code>403 Forbidden</code> errors. Apply for access via the <a href="https://developer.linkedin.com">LinkedIn Developer Portal</a>.</li>
<li><b>User Registration</b>: LinkedIn does not allow direct user creation via the API. Users must register on LinkedIn's website, and the API handles authentication.</li>
<li><b>Security</b>:<ul>
<li>Store the access token securely (e.g., in a database or session).</li>
<li>Avoid exposing <code>Client ID</code> and <code>Client Secret</code> in public code.</li>
<li>Use HTTPS for all requests to prevent token leakage.</li>
</ul>
</li>
<li><b>Rate Limits</b>: LinkedIn imposes API rate limits. Monitor your app's usage in the Developer Portal.</li>
<li><b>Error Handling</b>: The class includes basic error handling. Enhance it based on your application's needs (e.g., logging, user-friendly messages).</li>
</ul>
<h1><a class="anchor" id="autotoc_md98"></a>
Troubleshooting</h1>
<ul>
<li><b>Authentication Errors</b>: Ensure your <code>Client ID</code>, <code>Client Secret</code>, and <code>Redirect URI</code> match those in the LinkedIn Developer Portal.</li>
<li><b>Permission Denied</b>: If job-related endpoints return errors, verify your app has the necessary permissions or apply for Talent Solutions access.</li>
<li><b>cURL Issues</b>: Ensure the cURL extension is enabled in your PHP environment (<code>php_curl</code>).</li>
</ul>
<h1><a class="anchor" id="autotoc_md99"></a>
Limitations</h1>
<ul>
<li><b>Job APIs</b>: Public access to job postings and applications is restricted. You may need partner status for full functionality.</li>
<li><b>User Registration</b>: Direct user creation is not supported. Rely on LinkedIn's OAuth flow for authentication.</li>
<li><b>API Changes</b>: LinkedIn's API may change. Check the <a href="https://docs.microsoft.com/en-us/linkedin/">LinkedIn API documentation</a> for updates.</li>
</ul>
<h1><a class="anchor" id="autotoc_md100"></a>
License</h1>
<p>This project is licensed under the MIT License. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
